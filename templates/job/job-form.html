<!-- Job Description Form Template -->
<div class="compact-toggle">
    <label>
        <input type="checkbox" id="job-compact-toggle" onchange="toggleCompactForm('job-form')">
        Show only essential fields
    </label>
</div>

<div class="form-progress">
    <div class="progress-bar" id="job-form-progress"></div>
    <div class="progress-label">Form completion: <span id="job-progress-percent">0%</span></div>
</div>

<div class="form-tips">
    <div class="tip">
        <span class="tip-icon">ðŸ’¡</span>
        <span class="tip-text">Focus on what makes this role unique to attract the right candidates.</span>
    </div>
    <div class="tip">
        <span class="tip-icon">âœ“</span>
        <span class="tip-text">Start with job title, summary, and requirements - you can add more details later.</span>
    </div>
</div>

<form id="job-form">
    <!-- Hidden required field for company_id -->
    <input type="hidden" id="company-id" name="company_id" value="">
    
    <!-- Required Fields -->
    <div class="form-section">
        <h2>Basic Job Information</h2>
        <div class="form-group">
            <label for="job-title" class="required-label">Job Title:</label>
            <input type="text" id="job-title" name="title" placeholder="Enter job title" required>
            <div class="field-hint">Use a clear, specific title that candidates would search for.</div>
        </div>
        <div class="form-group">
            <label for="job-code">Job Code:</label>
            <input type="text" id="job-code" name="job_code" placeholder="Internal reference code (optional)">
            <div class="field-hint">For your internal tracking purposes.</div>
        </div>
    </div>

    <!-- Job Summary Section - Essential Fields -->
    <div class="form-section">
        <h2>Key Job Details</h2>
        <div class="section-description">These are the essential details candidates look for first.</div>
        
        <div class="essential-fields">
            <div class="form-group optional-field" id="job-summary-group">
                <label for="job-summary">Job Summary:</label>
                <textarea id="job-summary" name="job_summary" placeholder="Brief overview of the role and its purpose"></textarea>
                <div class="field-hint">A concise summary that covers what the role does and its importance.</div>
            </div>
            
            <div class="form-group optional-field" id="work-model-group">
                <label for="work-model">Work Model:</label>
                <input type="text" id="work-model" name="work_model" placeholder="E.g., Remote, Hybrid (3 days in office), On-site">
                <div class="field-hint">One of the first things candidates want to know.</div>
            </div>
            
            <div class="form-group optional-field" id="job-level-group">
                <label for="job-level">Job Level:</label>
                <input type="text" id="job-level" name="job_level" placeholder="E.g., Entry, Mid, Senior, Lead">
                <div class="field-hint">Helps candidates understand if this role matches their experience level.</div>
            </div>
        </div>
    </div>

    <!-- Basic Job Information -->
    <div class="form-section">
        <h2>Job Classification</h2>
        <div class="field-checkboxes">
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('job-level')">
                Job Level
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('job-department')">
                Department
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('job-function')">
                Job Function
            </label>
        </div>
        
        <div class="form-group optional-field" id="job-department-group">
            <label for="job-department">Department:</label>
            <input type="text" id="job-department" name="department" placeholder="E.g., Marketing, Engineering, Sales">
        </div>
        <div class="form-group optional-field" id="job-function-group">
            <label for="job-function">Job Function:</label>
            <input type="text" id="job-function" name="job_function" placeholder="E.g., Software Development, UX/UI Design">
        </div>
    </div>
    
    <!-- Job Posting Metadata -->
    <div class="form-section">
        <h2>Employment Details</h2>
        <div class="field-checkboxes">
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('contract-duration')">
                Contract Duration
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('time-commitment')">
                Time Commitment
            </label>
        </div>
        
        <div class="form-group optional-field" id="contract-duration-group">
            <label for="contract-duration">Contract Duration:</label>
            <input type="text" id="contract-duration" name="contract_duration" placeholder="E.g., Permanent, 6 months, 1 year">
        </div>
        <div class="form-group optional-field" id="time-commitment-group">
            <label for="time-commitment">Time Commitment:</label>
            <input type="text" id="time-commitment" name="time_commitment" placeholder="E.g., Full-time, Part-time (20 hrs/week)">
        </div>
    </div>
    
    <!-- Detailed Role Description -->
    <div class="form-section">
        <h2>Role Description</h2>
        <div class="field-checkboxes">
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('job-summary')">
                Job Summary
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('day-to-day')">
                Day-to-Day Tasks
            </label>
            <label class="field-checkbox">
                <input type="checkbox" onchange="toggleField('performance')">
                Performance Indicators
            </label>
            <label class="field-checkbox">
                <input type="checkbox" onchange="toggleField('decision-making')">
                Decision Making
            </label>
            <label class="field-checkbox">
                <input type="checkbox" onchange="toggleField('stakeholders')">
                Stakeholder Interactions
            </label>
        </div>
        
        <div class="form-group optional-field" id="day-to-day-group">
            <label for="day-to-day">Day-to-Day Tasks:</label>
            <textarea id="day-to-day" name="day_to_day_tasks" placeholder="List the main responsibilities and regular tasks"></textarea>
            <div class="field-hint">Describe what the person in this role will actually do day-to-day.</div>
        </div>
        <div class="form-group optional-field" id="performance-group">
            <label for="performance">Performance Indicators:</label>
            <textarea id="performance" name="performance_indicators" placeholder="How success will be measured in this role"></textarea>
        </div>
        <div class="form-group optional-field" id="decision-making-group">
            <label for="decision-making">Decision-Making Responsibilities:</label>
            <textarea id="decision-making" name="decision_making" placeholder="What decisions this role will be responsible for"></textarea>
        </div>
        <div class="form-group optional-field" id="stakeholders-group">
            <label for="stakeholders">Stakeholder Interactions:</label>
            <textarea id="stakeholders" name="stakeholder_interactions" placeholder="Key internal and external relationships"></textarea>
        </div>
    </div>
    
    <!-- Requirements - Essential Fields -->
    <div class="form-section">
        <h2>Requirements</h2>
        <div class="essential-fields">
            <div class="form-group optional-field" id="required-qualifications-group">
                <label for="required-qualifications">Required Qualifications:</label>
                <textarea id="required-qualifications" name="required_qualifications" placeholder="List must-have qualifications for this role"></textarea>
                <div class="field-hint">These are the non-negotiable requirements for the role.</div>
            </div>
        </div>
        
        <div class="field-checkboxes">
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('required-qualifications')">
                Required Qualifications
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('preferred-qualifications')">
                Preferred Qualifications
            </label>
            <label class="field-checkbox">
                <input type="checkbox" onchange="toggleField('certifications')">
                Certifications
            </label>
            <label class="field-checkbox">
                <input type="checkbox" onchange="toggleField('legal')">
                Legal Eligibility
            </label>
            <label class="field-checkbox">
                <input type="checkbox" onchange="toggleField('background-checks')">
                Background Checks
            </label>
            <label class="field-checkbox">
                <input type="checkbox" onchange="toggleField('clearance')">
                Clearance Level
            </label>
        </div>
        
        <div class="form-group optional-field" id="preferred-qualifications-group">
            <label for="preferred-qualifications">Preferred Qualifications:</label>
            <textarea id="preferred-qualifications" name="preferred_qualifications" placeholder="Nice-to-have qualifications that would be beneficial"></textarea>
            <div class="field-hint">Additional qualifications that would be advantageous but aren't required.</div>
        </div>
        <div class="form-group optional-field" id="certifications-group">
            <label for="certifications">Mandatory Certifications:</label>
            <textarea id="certifications" name="mandatory_certifications" placeholder="Required certifications or licenses"></textarea>
        </div>
        <div class="form-group optional-field" id="legal-group">
            <label for="legal">Legal Eligibility:</label>
            <input type="text" id="legal" name="legal_eligibility" placeholder="Required work authorization, etc.">
        </div>
        <div class="form-group optional-field" id="background-checks-group">
            <label for="background-checks">Background Checks:</label>
            <input type="text" id="background-checks" name="background_checks" placeholder="Required background checks">
        </div>
        <div class="form-group optional-field" id="clearance-group">
            <label for="clearance">Clearance Level:</label>
            <input type="text" id="clearance" name="clearance_level" placeholder="Required security clearance">
        </div>
    </div>
    
    <!-- Skills -->
    <div class="form-section">
        <h2>Skills</h2>
        <div class="field-checkboxes">
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('hard-skills')">
                Hard Skills
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('soft-skills')">
                Soft Skills
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('domain-expertise')">
                Domain Expertise
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('methodologies')">
                Methodologies
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('languages')">
                Languages
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('skills-priority')">
                Skills Priority
            </label>
        </div>
        
        <div class="form-group optional-field" id="hard-skills-group">
            <label for="hard-skills">Hard Skills:</label>
            <textarea id="hard-skills" name="hard_skills" placeholder="Technical skills required"></textarea>
        </div>
        <div class="form-group optional-field" id="soft-skills-group">
            <label for="soft-skills">Soft Skills:</label>
            <textarea id="soft-skills" name="soft_skills" placeholder="Interpersonal skills required"></textarea>
        </div>
        <div class="form-group optional-field" id="domain-expertise-group">
            <label for="domain-expertise">Domain Expertise:</label>
            <textarea id="domain-expertise" name="domain_expertise" placeholder="Industry knowledge required"></textarea>
        </div>
        <div class="form-group optional-field" id="methodologies-group">
            <label for="methodologies">Methodologies:</label>
            <textarea id="methodologies" name="methodologies" placeholder="Agile, Scrum, etc."></textarea>
        </div>
        <div class="form-group optional-field" id="languages-group">
            <label for="languages">Languages:</label>
            <textarea id="languages" name="languages" placeholder="Programming languages or spoken languages"></textarea>
        </div>
        <div class="form-group optional-field" id="skills-priority-group">
            <label for="skills-priority">Skills Priority:</label>
            <textarea id="skills-priority" name="skills_priority" placeholder="Prioritization of required skills"></textarea>
        </div>
    </div>
    
    <!-- Compensation -->
    <div class="form-section">
        <h2>Compensation</h2>
        <div class="field-checkboxes">
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('base-salary')">
                Base Salary
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('bonus')">
                Bonus Structure
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('equity')">
                Equity Options
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('benefits')">
                Benefits
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('relocation')">
                Relocation
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('visa')">
                Visa Sponsorship
            </label>
        </div>
        
        <div class="form-group optional-field" id="base-salary-group">
            <label for="base-salary">Base Salary:</label>
            <input type="text" id="base-salary" name="base_salary" placeholder="Salary range">
        </div>
        <div class="form-group optional-field" id="bonus-group">
            <label for="bonus">Bonus Structure:</label>
            <textarea id="bonus" name="bonus_structure" placeholder="Performance bonuses, profit sharing, etc."></textarea>
        </div>
        <div class="form-group optional-field" id="equity-group">
            <label for="equity">Equity Options:</label>
            <textarea id="equity" name="equity_options" placeholder="Stock options, RSUs, etc."></textarea>
        </div>
        <div class="form-group optional-field" id="benefits-group">
            <label for="benefits">Benefits:</label>
            <textarea id="benefits" name="benefits" placeholder="Health insurance, retirement, etc."></textarea>
        </div>
        <div class="form-group optional-field" id="relocation-group">
            <label for="relocation">Relocation Assistance:</label>
            <input type="text" id="relocation" name="relocation_assistance" placeholder="Available relocation support">
        </div>
        <div class="form-group optional-field" id="visa-group">
            <label for="visa">Visa Sponsorship:</label>
            <input type="text" id="visa" name="visa_sponsorship" placeholder="Available visa sponsorship">
        </div>
    </div>
    
    <!-- Work Environment -->
    <div class="form-section">
        <h2>Work Environment</h2>
        <div class="field-checkboxes">
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('work-model')">
                Work Model
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('work-locations')">
                Work Locations
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('travel')">
                Travel Requirements
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('shift-type')">
                Shift Type
            </label>
        </div>
        
        <div class="form-group optional-field" id="work-locations-group">
            <label for="work-locations">Work Locations:</label>
            <textarea id="work-locations" name="work_locations" placeholder="Possible work locations"></textarea>
        </div>
        <div class="form-group optional-field" id="travel-group">
            <label for="travel">Travel Requirements:</label>
            <input type="text" id="travel" name="travel_requirements" placeholder="Expected travel percentage">
        </div>
        <div class="form-group optional-field" id="shift-type-group">
            <label for="shift-type">Shift Type:</label>
            <input type="text" id="shift-type" name="shift_type" placeholder="Regular, rotating, on-call, etc.">
        </div>
    </div>
    
    <!-- Career Development -->
    <div class="form-section">
        <h2>Career Development</h2>
        <div class="field-checkboxes">
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('growth-opportunities')">
                Growth Opportunities
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('training')">
                Training & Development
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('mentorship')">
                Mentorship
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('succession')">
                Succession Planning
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('culture-link')">
                Culture Link
            </label>
            <label class="field-checkbox">
                <input type="checkbox" checked onchange="toggleField('careers-link')">
                Careers Link
            </label>
        </div>
        
        <div class="form-group optional-field" id="growth-opportunities-group">
            <label for="growth-opportunities">Growth Opportunities:</label>
            <textarea id="growth-opportunities" name="growth_opportunities" placeholder="Career advancement possibilities"></textarea>
        </div>
        <div class="form-group optional-field" id="training-group">
            <label for="training">Training & Development:</label>
            <textarea id="training" name="training_development" placeholder="Learning opportunities provided"></textarea>
        </div>
        <div class="form-group optional-field" id="mentorship-group">
            <label for="mentorship">Mentorship:</label>
            <textarea id="mentorship" name="mentorship" placeholder="Mentoring programs available"></textarea>
        </div>
        <div class="form-group optional-field" id="succession-group">
            <label for="succession">Succession Planning:</label>
            <textarea id="succession" name="succession_planning" placeholder="Future role progression"></textarea>
        </div>
        <div class="form-group optional-field" id="culture-link-group">
            <label for="culture-link">Company Culture Link:</label>
            <input type="url" id="culture-link" name="culture_page_link" placeholder="URL to company culture page">
        </div>
        <div class="form-group optional-field" id="careers-link-group">
            <label for="careers-link">Company Careers Link:</label>
            <input type="url" id="careers-link" name="careers_page_link" placeholder="URL to company careers page">
        </div>
    </div>
</form>

<script>
// Toggle field visibility
function toggleField(fieldId) {
    const group = document.getElementById(fieldId + '-group');
    if (group) {
        group.style.display = group.style.display === 'none' ? 'block' : 'none';
        updateFormProgress('job-form');
    }
}

// Toggle compact form view
function toggleCompactForm(formId) {
    const form = document.getElementById(formId);
    if (form) {
        form.classList.toggle('job-form-compact');
        updateFormProgress(formId);
    }
}

// Update form progress bar
function updateFormProgress(formId) {
    const form = document.getElementById(formId);
    const progressBar = document.getElementById(formId + '-progress');
    const progressPercent = document.getElementById(formId + '-progress-percent');
    
    if (form && progressBar) {
        const totalFields = form.querySelectorAll('.form-group').length;
        const filledFields = form.querySelectorAll('.form-group input:not([value=""]), .form-group textarea:not(:empty)').length;
        
        const progress = Math.round((filledFields / totalFields) * 100);
        progressBar.style.width = progress + '%';
        if (progressPercent) {
            progressPercent.innerText = progress + '%';
        }
    }
}

// Initialize form state
document.addEventListener('DOMContentLoaded', function() {
    updateFormProgress('job-form');
});
</script> 